(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{843:function(e,a,t){"use strict";t.r(a);var n=t(98),l=t.n(n),r=t(99),c=t(20),o=t(21),m=t(23),s=t(22),i=t(24),u=t(0),d=t.n(u),f=(t(145),t(95)),E=t(25),h=t(94),v=t(96),g=t(97),p=(t(113),t(107)),y=t(109),b=y.object().shape({name:y.string().max(50,"Too long, max 50 characters").required("Required"),type:y.string().max(50,"Too long, max 50 characters").required("Required"),make:y.string().max(50,"Too long, max 50 characters").required("Required"),model:y.string().max(50,"Too long, max 50 characters").required("Required"),registration:y.string().max(50,"Too long, max 50 characters").required("Required"),color:y.string().max(50,"Too long, max 50 characters").nullable(),chassis:y.string().max(50,"Too long, max 50 characters").nullable(),engine:y.string().max(50,"Too long, max 50 characters").nullable(),year:y.number().nullable().required("Required")}),k=function(e){function a(){var e,t;Object(c.a)(this,a);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(t=Object(m.a)(this,(e=Object(s.a)(a)).call.apply(e,[this].concat(o)))).state={auth:E.a.getState().authentication.Auth,formValues:{name:"",type:"",make:"",model:"",year:null,registration:"",color:null,chassis:null,engine:null},formData:{year:t.getYears()},alert:{display:!1,type:"success",message:""}},t.createVehicle=Object(r.a)(l.a.mark(function e(){var a,n;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=t.state.formValues,n={method:"Post",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t.state.auth.token)},body:JSON.stringify(a)},fetch("".concat(f.a.base_url,"v1/vehicle"),n).then(t.handleResponse).then(function(e){if(!0===e.success){var a={type:"success",message:e.message,display:!0};t.setState({alert:a})}else{var n={type:"danger",message:e.error.message,display:!0};t.setState({alert:n})}return e});case 3:case"end":return e.stop()}},e)})),t.handleSubmit=function(e){t.createVehicle()},t.handleChange=function(e){var a=t.state.formValues;a[e.target.name]=e.target.value,t.setState({formValues:a})},t.handleResetForm=function(){document.getElementById("vehicleForm").reset()},t}return Object(i.a)(a,e),Object(o.a)(a,[{key:"getYears",value:function(){for(var e=[],a=(new Date).getFullYear();a>=1980;a--)e.push(a);return e}},{key:"handleResponse",value:function(e){return e.text().then(function(e){return e&&JSON.parse(e)})}},{key:"render",value:function(){var e=this,a=this.state.formData;return d.a.createElement(u.Fragment,null,d.a.createElement(h.a,null,"Vehicles Add "),d.a.createElement(v.x,null,d.a.createElement(v.f,{md:"12"},d.a.createElement(v.d,null,d.a.createElement(v.e,null,d.a.createElement("div",{className:"px-3"},d.a.createElement(p.c,{initialValues:this.state.formValues,validationSchema:b,onSubmit:function(a,t){var n=t.setSubmitting,l=t.resetForm;n(!0),e.setState({formValues:a}),e.handleSubmit(),n(!1),l()}},function(t){var n=t.values,l=t.isSubmitting,r=t.errors,c=t.touched,o=t.handleChange;return d.a.createElement(p.b,{id:"vehicleForm"},d.a.createElement("div",{className:"form-body"},d.a.createElement("h4",{className:"form-section"},d.a.createElement(g.Map,{size:20,color:"#212529"})," Vehicle Info"),d.a.createElement(v.x,null,d.a.createElement(v.f,{md:"6"},d.a.createElement(v.m,null,d.a.createElement(v.o,{for:"name"},"Vehicle Name"),d.a.createElement(p.a,{name:"name",id:"name",className:"form-control ".concat(r.name&&c.name&&"is-invalid")}),r.name&&c.name?d.a.createElement("div",{className:"invalid-feedback"},r.name):null)),d.a.createElement(v.f,{md:"6"},d.a.createElement(v.m,null,d.a.createElement(v.o,{for:"type"},"Vehicle Type"),d.a.createElement("select",{onChange:o,id:"type",name:"type",className:"form-control ".concat(r.type&&c.type&&"is-invalid")},d.a.createElement("option",{value:"0",defaultValue:"",disabled:""},"Select Type"),d.a.createElement("option",{value:"Bus"},"Bus"),d.a.createElement("option",{value:"Car"},"Car"),d.a.createElement("option",{value:"Motor Bike"},"Motor Bike")),r.type&&c.type?d.a.createElement("div",{className:"invalid-feedback"},r.type):null))),d.a.createElement(v.x,null,d.a.createElement(v.f,{md:"6"},d.a.createElement(v.m,null,d.a.createElement(v.o,{for:"make"},"Make"),d.a.createElement(p.a,{id:"make",name:"make",className:"form-control ".concat(r.make&&c.make&&"is-invalid")}),r.make&&c.make?d.a.createElement("div",{className:"invalid-feedback"},r.make):null)),d.a.createElement(v.f,{md:"6"},d.a.createElement(v.m,null,d.a.createElement(v.o,{for:"model"},"Model"),d.a.createElement(p.a,{name:"model",id:"model",className:"form-control ".concat(r.model&&c.model&&"is-invalid")}),r.model&&c.model?d.a.createElement("div",{className:"invalid-feedback"},r.model):null))),d.a.createElement(v.x,null,d.a.createElement(v.f,{md:"6"},d.a.createElement(v.m,null,d.a.createElement(v.o,{for:"year"},"Year"),d.a.createElement("select",{onChange:o,id:"year",name:"year",className:"form-control ".concat(r.year&&c.year&&"is-invalid")},d.a.createElement("option",{value:"0",defaultValue:"",disabled:""},"Select Year"),a.year.map(function(e,a){return d.a.createElement("option",{key:a,value:e},e)})),r.year&&c.year?d.a.createElement("div",{className:"invalid-feedback"},r.year):null)),d.a.createElement(v.f,{md:"6"},d.a.createElement(v.m,null,d.a.createElement(v.o,{for:"registration"},"Registraion"),d.a.createElement(p.a,{id:"registration",name:"registration",className:"form-control ".concat(r.registration&&c.registration&&"is-invalid")}),r.registration&&c.registration?d.a.createElement("div",{className:"invalid-feedback"},r.registration):null))),d.a.createElement(v.x,null,d.a.createElement(v.f,{md:"4"},d.a.createElement(v.m,null,d.a.createElement(v.o,{for:"color"},"Color"),d.a.createElement(p.a,{name:"color",id:"color",value:n.color,className:"form-control ".concat(r.color&&c.color&&"is-invalid")}),r.color&&c.color?d.a.createElement("div",{className:"invalid-feedback"},r.color):null)),d.a.createElement(v.f,{md:"4"},d.a.createElement(v.m,null,d.a.createElement(v.o,{for:"chassis"},"Chassis"),d.a.createElement(p.a,{name:"chassis",id:"chassis",value:n.chassis,className:"form-control ".concat(r.chassis&&c.chassis&&"is-invalid")}),r.chassis&&c.chassis?d.a.createElement("div",{className:"invalid-feedback"},r.chassis):null)),d.a.createElement(v.f,{md:"4"},d.a.createElement(v.m,null,d.a.createElement(v.o,{for:"engine"},"Engine"),d.a.createElement(p.a,{name:"engine",id:"engine",value:n.engine,className:"form-control ".concat(r.engine&&c.engine&&"is-invalid")}),r.engine&&c.engine?d.a.createElement("div",{className:"invalid-feedback"},r.engine):null)))),d.a.createElement("div",{className:"form-actions"},d.a.createElement(v.c,{color:"warning",className:"mr-1",onClick:e.handleResetForm},d.a.createElement(g.X,{size:16,color:"#FFF"})," Cancel"),d.a.createElement(v.c,{color:"primary",type:"submit",disabled:l},d.a.createElement(g.CheckSquare,{size:16,color:"#FFF"})," Save"),e.state.alert.display&&d.a.createElement(v.a,{color:e.state.alert.type},e.state.alert.message)))})))))))}}]),a}(u.Component);a.default=k},94:function(e,a,t){"use strict";var n=t(0),l=t.n(n);a.a=function(e){var a=e.className;return l.a.createElement("div",{className:"content-header".concat(void 0===a?"":" ".concat(a))},e.children)}},95:function(e,a,t){"use strict";a.a={base_url:"https://ticket-management.herokuapp.com/"}}}]);