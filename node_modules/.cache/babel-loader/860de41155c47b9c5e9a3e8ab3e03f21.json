{"ast":null,"code":"import { authConstants, loginConstants } from '../../constants';\nimport { alertActions } from '../';\nimport { loginService } from \"../../services/login.services\";\nimport { history } from \"../../helpers/history\";\nexport var loginAction = {\n  login: login,\n  logout: logout\n};\n\nfunction login(username, password) {\n  return function (dispatch) {\n    dispatch(request({\n      username: username\n    }));\n    console.log(\"action called\");\n    loginService.login(username, password).then(function (response) {\n      var authentication = response.data.authentication;\n      dispatch(success(authentication.user));\n      window.location.reload();\n    }, function (error) {\n      dispatch(failure(error.toString()));\n      dispatch(alertActions.error(error.toString()));\n    });\n  };\n\n  function request(user) {\n    return {\n      type: loginConstants.LOGIN_REQUEST,\n      user: user\n    };\n  }\n\n  function success(user) {\n    return {\n      type: loginConstants.LOGIN_SUCCESS,\n      user: user\n    };\n  }\n\n  function failure(error) {\n    return {\n      type: loginConstants.LOGIN_FAILURE,\n      error: error\n    };\n  }\n}\n\nfunction logout() {\n  loginService.logout();\n  return {\n    type: loginConstants.LOGOUT\n  };\n}","map":{"version":3,"sources":["/home/imirfanmumtaz/www/react/apex-react/src/redux/actions/authorization/login.actions.js"],"names":["authConstants","loginConstants","alertActions","loginService","history","loginAction","login","logout","username","password","dispatch","request","console","log","then","response","authentication","data","success","user","window","location","reload","error","failure","toString","type","LOGIN_REQUEST","LOGIN_SUCCESS","LOGIN_FAILURE","LOGOUT"],"mappings":"AAAA,SAAQA,aAAR,EAAuBC,cAAvB,QAA4C,iBAA5C;AACA,SAASC,YAAT,QAA6B,KAA7B;AACA,SAASC,YAAT,QAA4B,+BAA5B;AACA,SAASC,OAAT,QAAuB,uBAAvB;AAEA,OAAO,IAAMC,WAAW,GAAG;AACvBC,EAAAA,KAAK,EAALA,KADuB;AAEvBC,EAAAA,MAAM,EAANA;AAFuB,CAApB;;AAKP,SAASD,KAAT,CAAeE,QAAf,EAAyBC,QAAzB,EAAmC;AAC/B,SAAO,UAAAC,QAAQ,EAAI;AACfA,IAAAA,QAAQ,CAACC,OAAO,CAAC;AAAEH,MAAAA,QAAQ,EAARA;AAAF,KAAD,CAAR,CAAR;AACAI,IAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ;AACAV,IAAAA,YAAY,CAACG,KAAb,CAAmBE,QAAnB,EAA6BC,QAA7B,EACKK,IADL,CAEQ,UAAAC,QAAQ,EAAI;AAAA,UACDC,cADC,GACiBD,QAAQ,CAACE,IAD1B,CACDD,cADC;AAERN,MAAAA,QAAQ,CAACQ,OAAO,CAACF,cAAc,CAACG,IAAhB,CAAR,CAAR;AACAC,MAAAA,MAAM,CAACC,QAAP,CAAgBC,MAAhB;AACH,KANT,EAOQ,UAAAC,KAAK,EAAI;AACLb,MAAAA,QAAQ,CAACc,OAAO,CAACD,KAAK,CAACE,QAAN,EAAD,CAAR,CAAR;AACAf,MAAAA,QAAQ,CAACR,YAAY,CAACqB,KAAb,CAAmBA,KAAK,CAACE,QAAN,EAAnB,CAAD,CAAR;AACH,KAVT;AAYH,GAfD;;AAiBA,WAASd,OAAT,CAAiBQ,IAAjB,EAAuB;AAAE,WAAO;AAAEO,MAAAA,IAAI,EAAEzB,cAAc,CAAC0B,aAAvB;AAAsCR,MAAAA,IAAI,EAAJA;AAAtC,KAAP;AAAqD;;AAC9E,WAASD,OAAT,CAAiBC,IAAjB,EAAuB;AAAE,WAAO;AAAEO,MAAAA,IAAI,EAAEzB,cAAc,CAAC2B,aAAvB;AAAsCT,MAAAA,IAAI,EAAJA;AAAtC,KAAP;AAAqD;;AAC9E,WAASK,OAAT,CAAiBD,KAAjB,EAAwB;AAAE,WAAO;AAAEG,MAAAA,IAAI,EAAEzB,cAAc,CAAC4B,aAAvB;AAAsCN,MAAAA,KAAK,EAALA;AAAtC,KAAP;AAAsD;AACnF;;AAED,SAAShB,MAAT,GAAkB;AACdJ,EAAAA,YAAY,CAACI,MAAb;AACA,SAAO;AAAEmB,IAAAA,IAAI,EAAEzB,cAAc,CAAC6B;AAAvB,GAAP;AACH","sourcesContent":["import {authConstants, loginConstants} from '../../constants';\nimport { alertActions } from '../';\nimport { loginService} from \"../../services/login.services\";\nimport { history} from \"../../helpers/history\";\n\nexport const loginAction = {\n    login,\n    logout\n};\n\nfunction login(username, password) {\n    return dispatch => {\n        dispatch(request({ username }));\n        console.log(\"action called\");\n        loginService.login(username, password)\n            .then(\n                response => {\n                    const {authentication} = response.data;\n                    dispatch(success(authentication.user));\n                    window.location.reload();\n                },\n                error => {\n                    dispatch(failure(error.toString()));\n                    dispatch(alertActions.error(error.toString()));\n                }\n            );\n    };\n\n    function request(user) { return { type: loginConstants.LOGIN_REQUEST, user } }\n    function success(user) { return { type: loginConstants.LOGIN_SUCCESS, user } }\n    function failure(error) { return { type: loginConstants.LOGIN_FAILURE, error } }\n}\n\nfunction logout() {\n    loginService.logout();\n    return { type: loginConstants.LOGOUT };\n}"]},"metadata":{},"sourceType":"module"}